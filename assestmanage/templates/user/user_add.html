<!DOCTYPE html>
<div style="float:left;margin-top: 25px" class="col-lg-2">
{% include 'navi.html' %}
</div>
{% load staticfiles %}
<html>
<head lang="en">
    <meta charset="utf-8">
	 <!-- 引入jQuery -->
	<!--<script src="http://apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>  -->
	<script src="http://code.jquery.com/jquery-latest.js"></script>
	 <!-- 引入 Bootstrap -->
     <link href="{% static 'usergroup/bootstrap/css/style.css' %}" rel="stylesheet" type="text/css">
     <link href="{% static 'usergroup/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet" type="text/css">
	 <link href="{% static 'usergroup/bootstrap/css/bootstrap.css' %}" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="{% static 'usergroup/bootstrap/js/jquery.min.js' %}"></script>
     <script type="text/javascript" src="{% static 'usergroup/bootstrap/js/bootstrap.min.js' %}"></script>
	 <script type="text/javascript" src="{% static 'usergroup/bootstrap/js/bootstrap.js' %}"></script>
	 <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
    <title>添加数据，提交form表单</title>
</head>
<body>



 <div class="container">
<form action="/auser/user/add/" method="post" role="form" name="myform">
    {% if error %}
        <div class="alert alert-warning text-center">{{ error }}</div>
    {% endif %}
    <input value="" style="" type="hidden" name="qsl" id="qsl">
	<input name="id" type="hidden" value="" ><br/>
	<div class="form-group">
		  <label class="control-label">请输入username:&nbsp </label>
		  <input class="form-control" type="text" name="username" placeholder="必须为英文字母或数字组成"/>
	</div>
	<div class="form-group">
		  <label class="control-label">请输入用户名:&nbsp </label>
          <input class="form-control" type="text" name="name" placeholder="Enter name"/>
	</div>
    <div class="form-group">
		  <label class="control-label">请输入密码:&nbsp </label>
          <input class="form-control" type="text" name="password" placeholder="Enter password"/>
	</div>
    <div class="form-group">
                  <label class="control-label">请输入角色:&nbsp </label>
                  <label class="single"><input type="radio" name="role" value="SU" />超级管理员</label>
                  <label class="single"><input type="radio" name="role" value="CU" />普通管理员</label>
        </div>
<table border="0"width="600">
<tr>
<td width="40%">
<div class="form-group">
		  <label class="control-label">请选择成员</label>

<select style="WIDTH:100%"multiple name="list1"size="12"ondblclick="moveOption(document.myform.list1, document.myform.list2)">
{% for user in group_all %}
    <option value="{{ user }}">{{ user }}</option>
{% endfor %}
</select>

</td>
<td width="20%"align="center">
<input type="button" class="abc" value="右移" onclick="moveOption(document.myform.list1, document.myform.list2)"><br/>
<br/>
<input type="button" class="abc" value="左移" onclick="moveOption(document.myform.list2, document.myform.list1)">
</td>
<td width="40%">
<select style="WIDTH:100%"multiple id="list2" name="list2"size="12"ondblclick="moveOption(document.myform.list2, document.myform.list1)">
</select>
</td>
</tr>
</table>

<div class="hr-line-dashed"></div>
  <div class="col-sm-5 col-sm-offset-14">

    <input type="submit" id="btn"  value="提交" class="btn btn-default " />

  </div>
</form>
</div>
<script language="JavaScript">
<!--
function moveOption(e1, e2){
   try{
for(var i=0;i<e1.options.length;i++){
if(e1.options[i].selected){
var e = e1.options[i];
e2.options.add(new Option(e.text, e.value));
e1.remove(i);
i=i-1
}
}
document.myform.city.value=getvalue(document.myform.list2);
}
catch(e){}
}
function getvalue(geto){
var allvalue ="";
for(var i=0;i<geto.options.length;i++){
allvalue +=geto.options[i].value +",";
}
return allvalue;
}

$('.abc').click(function () {
    debugger;
    var a = []
    $('#list2').children().each(function(i,item) {
        a.push(item.value)
    })
    $('#qsl').val(a)
})

function changepos(obj,index)
{
if(index==-1){
if (obj.selectedIndex>0){
obj.options(obj.selectedIndex).swapNode(obj.options(obj.selectedIndex-1))
}
}
else if(index==1){
if (obj.selectedIndex<obj.options.length-1){
obj.options(obj.selectedIndex).swapNode(obj.options(obj.selectedIndex+1))
}
}
}
//-->
</script>
</body>
</html>
